



    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.css" type="text/css" rel="stylesheet" />
    <link href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" type="text/css" rel="stylesheet" />
    <style>.ui-dialog-title {background-image:url(http://image005.flaticon.com/1/svg/109/109978.svg);background-repeat:no-repeat;padding-left:25px;}</style>

<STYLE type=text/css>#loading {
     TOP: 0px; RIGHT: 0px
 }http://jsfiddle.net/6pB2g/#
 .tooltip {
     PADDING-BOTTOM: 25px; PADDING-LEFT: 25px; WIDTH: 160px; PADDING-RIGHT: 25px; DISPLAY: none; BACKGROUND: url(images/black_arrow.png); HEIGHT: 70px; COLOR: #fff; FONT-SIZE: 12px; PADDING-TOP: 25px; z-order: 100
 }
 </STYLE>


    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                
                <div id="bootstrapModalFullCalendar"></div>
            </div>
        </div>
    </div>

    <div id="eventContent" title="Event Details">
        <div id="eventInfo"></div>
        
    </div>


<DIV  id="reservebox" title="Dodaj radnika">
<FORM id="createEventForm" >
<DIV class=sysdesc>&nbsp;</DIV>
<DIV class=rowElem>
<select id="radnik" name="radnik">
 <option> Milica </option>
  <option> Nina </option>
</select>

</DIV>     
</FORM>
</DIV>

<!--  <DIV class=sysdesc>&nbsp;</DIV>

<DIV id=addhelper class=ui-widget>
<DIV 
style="PADDING-BOTTOM: 5px; PADDING-LEFT: 5px; PADDING-RIGHT: 5px; PADDING-TOP: 5px" 
class="ui-state-error ui-corner-all">
<DIV id=addresult></DIV></DIV></DIV></FORM></DIV>-->













    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

    <script type="text/javascript">
    
   
        $(document).ready(function() {
        	      	


            $('#bootstrapModalFullCalendar').fullCalendar({
            	
            	
            	
                header: {
                    left: '',
                    center: 'prev title next',
                    right: ''
                },
                
                theme: true,
                editable: true,
                displayEventTime: false,
                allDaySlot : false,
                
				//dayClick: dayClickCallback,
               
                eventRender: eventRenderCallback,
                eventClick: function (event, jsEvent, view) {
                    //set the values and open the modal
                    $("#eventInfo").html(event.description);
                    $("#eventLink").attr('href', event.url);
                    $("#eventContent").dialog({
                        modal: true,
                        title: event.title
                    });
                    return false;
                },
                events:
                [
                   {
                      "title":"PRVA, BASTA",
                      "allday":"false",
                      "description":"<p>PRVA, BASTA</p>",
                      "start":moment().subtract('days',14),
                      "end":moment().subtract('days',14),
                   //   "url":"http://www.mikesmithdev.com/blog/coding-without-music-vs-coding-with-music/"
                   },
                   {
                      "title":"PRVA, PUSACKI_DEO",
                      "allday":"false",
                      "description":"<p>PRVA, PUSACKI_DEO</p>",
                      "start":moment().subtract('days',10),
                      "end":moment().subtract('days',10),
                      //"url":"http://www.mikesmithdev.com/blog/youtube-video-event-tracking-with-google-analytics/"
                   },
                   {
                      "title":"DRUGA, PUSACKI_DEO",
                      "allday":"false",
                      "description":"<p>DRUGA, PUSACKI_DEO</p>",
                      "start":moment().subtract('days',6),
                      "end":moment().subtract('days',6),
                     // "url":"http://www.mikesmithdev.com/blog/what-if-your-website-were-an-animal/"
                   }/*,
                   {
                      "title":"Poker Night",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Poker Night.</p><p>Nothing to see!</p>",
                      "start":moment().subtract('days',2),
                      "end":moment().subtract('days',2),
                      "url":"http://www.mikesmithdev.com/blog/how-to-make-a-qr-code-in-asp-net/"
                   },
                   {
                      "title":"NES Gamers",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the NES Gamers.</p><p>Nothing to see!</p>",
                      "start":moment(),
                      "end":moment(),
                      "url":"http://www.mikesmithdev.com/blog/name-that-nes-soundtrack/"
                   },
                   {
                      "title":"XBox Tourney",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the XBox Tourney.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',3),
                      "end":moment().add('days',3),
                      "url":"http://www.mikesmithdev.com/blog/worst-job-titles-in-internet-and-info-tech/"
                   },
                   {
                      "title":"Pool Party",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Pool Party.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',5),
                      "end":moment().add('days',5),
                      "url":"http://www.mikesmithdev.com/blog/jquery-full-calendar/"
                   },
                   {
                      "title":"Staff Meeting",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Staff Meeting.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',9),
                      "end":moment().add('days',9),
                      "url":"http://www.mikesmithdev.com/blog/keep-important-licensing-comments-dotnet-bundling-minification/"
                   },
                   {
                      "title":"Poker Night",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Poker Night.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',11),
                      "end":moment().add('days',11),
                      "url":"http://www.mikesmithdev.com/blog/aspnet-bundling-changes-output-with-user-agent-eureka-1/"
                   },
                   {
                      "title":"Hackathon",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Hackathon.</p><p>Nothing to see!</p>",
                       "start":moment().add('days',15),
                      "end":moment().add('days',15),
                      "url":"http://www.mikesmithdev.com/blog/worst-job-titles-in-internet-and-info-tech/"
                   },
                   {
                      "title":"Beta Testing",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Beta Testing.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',22),
                      "end":moment().add('days',22),
                      "url":"http://www.mikesmithdev.com/blog/worst-job-titles-in-internet-and-info-tech/"
                   },
                   {
                      "title":"Perl Meetup",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Perl Meetup.</p><p>Nothing to see... though no one would show up any way.</p>",
                      "start":moment().subtract('days',20),
                      "end":moment().subtract('days',20),
                      "url":"http://www.mikesmithdev.com/blog/migrating-from-asp-net-to-ghost-node-js/"
                   },
                   {
                      "title":"Node.js Meetup",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Node.js Meetup.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',25),
                      "end":moment().add('days',25),
                      "url":"http://www.mikesmithdev.com/blog/pdf-secure-access-and-log-downloads/"
                   },
                   {
                      "title":"Javascript Meetup",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the Javascript Meetup.</p><p>Nothing to see!</p>",
                      "start":moment().subtract('days',27),
                      "end":moment().subtract('days',27),
                      "url":"http://www.mikesmithdev.com/blog/migrating-from-asp-net-to-ghost-node-js/"
                   },
                   {
                      "title":"HTML Meetup",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the HTML Meetup.</p><p>Nothing to see!</p>",
                      "start":moment().subtract('days',22),
                      "end":moment().subtract('days',22),
                      "url":"http://www.mikesmithdev.com/blog/migrating-from-asp-net-to-ghost-node-js/"
                   },
                   {
                      "title":"CSS Meetup",
                      "allday":"false",
                      "description":"<p>This is just a fake description for the CSS Meetup.</p><p>Nothing to see!</p>",
                      "start":moment().add('days',27),
                      "end":moment().add('days',27),
                      "url":"http://www.mikesmithdev.com/blog/migrating-from-asp-net-to-ghost-node-js/"
                   }*/
                ]
                
                
                
               
                
            });
            
            
            var slotDate;

            function dayClickCallback(date){
                slotDate = date;
                $("#bootstrapModalFullCalendar").on("mousemove", forgetSlot);
            }

            function eventRenderCallback(event,element){
                element.on("dblclick",function(){
                    dblClickFunction(event.start)          
                });   
            }

            function forgetSlot(){
                slotDate = null;
                $("#bootstrapModalFullCalendar").off("mousemove", forgetSlot);
            }

            function dblClickFunction(date){
                
                    
               $("#reservebox").dialog({
                		modal: true,
                        position: "center",
                        draggable: false,
                        buttons: {
                            "close": function() {
                                $( this ).dialog( "close" );
                            },
                            "reserve": function() {
                            	$("#bootstrapModalFullCalendar").fullCalendar('renderEvent',
                            	    {
                    	        title: $('#radnik').val(),
                    	        start: date,
                    	        end: date,
                    	        description: "Radnik:",
                    	       
                    	        allDay: false                	    
                    	        },
                    	    true);
                            	$( this ).dialog( "close" );
                            }
                        }
                	
                        
                   
                        
                    });
               
               var clientArr = $('#bootstrapModalFullCalendar').fullCalendar('clientEvents');
               for(i in clientArr){
                    console.log("nesto" + clientArr[i]);//gives events full description.
                    console.log(clientArr[i].allDay);
                   //check for value here and append to your hidden field.
                  //all your logic goes here.         
               }
                    return false;
                   
                    
                }
            
            
            function parseClientEvents(){
                var clientArr = $('#bootstrapModalFullCalendar').fullCalendar('clientEvents');
                for(i in clientArr){
                     console.log("nesto" + clientArr[i]);//gives events full description.
                     console.log(clientArr[i].allDay);
                    //check for value here and append to your hidden field.
                   //all your logic goes here.         
                }
                return true;
            }


        
          
                	

            $("#bootstrapModalFullCalendar").dblclick(function() {
                if(slotDate){
                    dblClickFunction(slotDate);
                }
            });
            
            
            
            
        });
        
        
        
    </script>


   

